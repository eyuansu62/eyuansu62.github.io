const CACHE_NAME="sentence-cards-pwa-v1",PRECACHE_URLS=["./","./index.html","./app.css","./app.js","./manifest.webmanifest","./icons/icon-192.png","./icons/icon-512.png","./icons/apple-touch-icon.png"];self.addEventListener("install",t=>{t.waitUntil((async()=>{const t=await caches.open(CACHE_NAME);await t.addAll(PRECACHE_URLS),await self.skipWaiting()})())}),self.addEventListener("activate",t=>{t.waitUntil((async()=>{const t=await caches.keys();await Promise.all(t.filter(t=>t!==CACHE_NAME).map(t=>caches.delete(t))),await self.clients.claim()})())}),self.addEventListener("fetch",t=>{const a=t.request;"GET"===a.method&&t.respondWith((async()=>{const t=new URL(a.url).origin===self.location.origin,e="navigate"===a.mode;if(t&&e){const t=await caches.match("./index.html");if(t)return t}if(t){const t=await caches.match(a);if(t)return t;try{const t=await fetch(a);return(await caches.open(CACHE_NAME)).put(a,t.clone()).catch(()=>{}),t}catch{const t=await caches.match("./index.html");if(t)return t;throw new Error("offline")}}return fetch(a)})())});